#!/bin/bash
CMDS=("b" "fx" "fxd" "fxs" "tr" "xm")
##########
TOOL=$1;

DF=$(dirname "$(readlink -f "$(which "$0")")");

if [[ "x${TOOL}" = "x" ]]; then
    for item in "${CMDS[@]}"; do
        echo $item;
    done
    exit
fi
###
if [[ "x${TOOL}" = "xb" ]]; then
   "${DF}/ac" fxd
   "${DF}/ac" xm
   "${DF}/ac" tr
   /usr/bin/ssh-add -l || exec /usr/bin/ssh-add "${HOME}/.ssh/id_rsa"
   exit
fi
if [[ "x${TOOL}" = "xtr" ]]; then
    shift
    "${DF}/trayerx" "$@"
    exit
fi
if [[ "x${TOOL}" = "xxm" ]]; then
    xmodmap "${DF}/../.us-intl-german.xmodmap"
    exit
fi
if [[ "x${TOOL}" = "xfx" ]]; then
    shift
    "${DF}/my-fx" "$@"
    exit
fi
if [[ "x${TOOL}" = "xfxd" ]]; then
    "${DF}/my-fx" --single && "${DF}/my-fx" --double
    exit
fi
if [[ "x${TOOL}" = "xfxd2" ]]; then
    ${DF}/my-fx --single && ${DF}/my-fx --dell2
    exit
fi

# without a match, just try dotfiles/bin/$TOOL
if [[ -f "${DF}/${TOOL}" ]]; then
    shift
    "${DF}/${TOOL}" "$@"
    exit
fi
